<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- ê¸°ë³¸ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <!-- í° ë°°ê²½Â·í° ë…¸ì¹˜Â·ìƒíƒœë°” ë“± -->
    <link rel="stylesheet" th:href="@{/css/phone-style.css}">
    <!-- í° í”„ë ˆì„Â·ê·¸ë¦¼ì -->
    <link rel="stylesheet" th:href="@{/css/phone-frame.css}">
    <!-- ìŠ¤í¬ë¡¤ë°” ê¾¸ë¯¸ê¸° -->
    <link rel="stylesheet" th:href="@{/css/scrollbar-style.css}">
    <!-- ì•± ë‚´ë¶€ ê¸°ë³¸ ë ˆì´ì•„ì›ƒ -->
    <link rel="stylesheet" th:href="@{/css/app-content.css}">

    <style>
        /* ---------------------------------------------------
           í™ˆ í™”ë©´ê³¼ ë˜‘ê°™ì€ ë ˆì´ì•„ì›ƒ: í—¤ë”â€“ìŠ¤í¬ë¡¤ì˜ì—­â€“ë©”ë‰´ë°”
           --------------------------------------------------- */
        .app-container {
            position: relative;
            height: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .gallery-list-container {
            flex: 1;
            overflow-y: auto;
            padding: 0 16px 70px; /* ë©”ë‰´ë°” ë†’ì´ë§Œí¼ ì•„ë˜ ì—¬ë°± */
        }

        /* ---------------------------------------------------
           ê¸°ì¡´ ê°¤ëŸ¬ë¦¬ ì „ìš© ìŠ¤íƒ€ì¼
           --------------------------------------------------- */
        .gallery-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 15px 0 10px; /* ì¢Œìš° íŒ¨ë”©ì€ ë¶€ëª¨ì—ì„œ */
            background-color: #fafafa;
            border-bottom: 1px solid #f0f0f0;
        }
        .gallery-controls button {
            background-color: #f1f1f1;
            border: none;
            border-radius: 25px;
            padding: 8px 16px;
            font-size: 14px;
            color: #555;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .gallery-controls button.active {
            background: linear-gradient(135deg, #5A6ACF, #879CFF);
            color: white;
            box-shadow: 0 4px 10px rgba(90, 106, 207, 0.3);
        }

        .upload-button {
            display: flex;
            justify-content: center;
            margin: 16px 0 16px; /* ìœ„ìª½ì€ gallery-controls ë°‘ì—ì„œ ê³µê°„ í™•ë³´ */
        }
        .upload-label {
            background: #5A6ACF;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }
        .upload-button input[type="file"] {
            display: none;
        }

        .gallery-section {
            /* month/titleì€ section ìœ„ì—, ì´ë¯¸ì§€ëŠ” ê·¸ë¦¬ë“œ ì•ˆìœ¼ë¡œ */
        }
        .gallery-month {
            font-size: 14px;
            font-weight: bold;
            margin: 8px 0;
            color: #444;
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        .gallery-item img {
            width: 100%;
            aspect-ratio: 1/1.1;
            object-fit: cover;
            border-radius: 8px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }
        .modal.active {
            display: flex;
        }
        .modal img {
            max-width: 90%;
            max-height: 80%;
            border-radius: 10px;
        }

        /* ---------------------------------------------------
           ë©”ë‰´ë°” (í•­ìƒ í™”ë©´ í•˜ë‹¨ì— ê³ ì •)
           --------------------------------------------------- */
        .menu-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 65px;
            background-color: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.06);
            border-top: 1px solid #f0f0f0;
            z-index: 2;
        }
        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #aaa;
            font-size: 11px;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 0;
        }
        .menu-item.active {
            color: #5A6ACF;
        }
        .menu-icon {
            font-size: 22px;
            margin-bottom: 4px;
        }
        button {
            cursor: pointer;
        }
    </style>
</head>

<body>
<div class="phone-container">
    <!-- ì•± ë‚´ë¶€ ì „ì²´ -->
    <div class="app-container">
        <!-- 1) í—¤ë” -->
        <div class="app-header header-layout-center">
            <div class="app-title">ê°ë‹¤ ê°¤ëŸ¬ë¦¬</div>
            <div class="app-date">ë‚˜ì˜ ê°ì • ìˆœê°„ í¬ì°©</div>
        </div>

        <!-- 2) ìŠ¤í¬ë¡¤ ì˜ì—­: ê°¤ëŸ¬ë¦¬ ì „ì²´ -->
        <div class="gallery-list-container">
            <!-- í•„í„° -->
            <div class="gallery-controls">
                <button class="active" onclick="filterEmotion('all')">ì „ì²´</button>
                <button onclick="filterEmotion('ê¸°ì¨')">ê¸°ì¨</button>
                <button onclick="filterEmotion('ìŠ¬í””')">ìŠ¬í””</button>
                <button onclick="filterEmotion('í™”ë‚¨')">í™”ë‚¨</button>
            </div>

            <!-- ì—…ë¡œë“œ -->
            <div class="upload-button">
                <label class="upload-label" for="upload-input">ì‚¬ì§„ ì—…ë¡œë“œ</label>
                <input type="file" id="upload-input" accept="image/*">
            </div>

            <!-- ê°¤ëŸ¬ë¦¬ -->
            <div class="gallery-section">
                <div class="gallery-month">2023ë…„ 10ì›”</div>
                <div class="gallery-grid">
                    <div class="gallery-item emotion-ê¸°ì¨">
                        <img src="${pageContext.request.contextPath}/asset/images/2026.jpg" alt="img" onclick="openModal(this)">
                    </div>
                    <!-- ì´í•˜ ìƒëµ: emotion-ìŠ¬í””, emotion-í™”ë‚¨ ë“± -->
                </div>
            </div>

            <!-- ëª¨ë‹¬ -->
            <div class="modal" id="imgModal" onclick="closeModal()">
                <img id="modalImg" src="">
            </div>
        </div>
        <!-- // gallery-list-container ë -->

        <!-- 3) ë©”ë‰´ ë°” -->
        <div class="menu-bar">
            <div class="menu-item">
                <div class="menu-icon">ğŸ“–</div>
                <div>ì¼ê¸°</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon">ğŸ’¬</div>
                <div>ì±„íŒ…</div>
            </div>
            <div class="menu-item">
                <div class="menu-icon">ğŸ“Š</div>
                <div>í†µê³„</div>
            </div>
            <div class="menu-item active">
                <div class="menu-icon">ğŸ–¼ï¸</div>
                <div>ê°¤ëŸ¬ë¦¬</div>
            </div>
        </div>
    </div>
    <!-- // app-container ë -->
</div>
<!-- // phone-container ë -->

<!-- í° í”„ë ˆì„ + ê·¸ë¦¼ì -->
<div class="frame-container">
    <div class="phone-frame"></div>
</div>
<div class="phone-shadow"></div>

<script>
    function openModal(img) {
        const modal = document.getElementById('imgModal');
        const modalImg = document.getElementById('modalImg');
        modalImg.src = img.src;
        modal.classList.add('active');
    }
    function closeModal() {
        document.getElementById('imgModal').classList.remove('active');
    }
    function filterEmotion(emotion) {
        const allItems = document.querySelectorAll('.gallery-item');
        document.querySelectorAll('.gallery-controls button').forEach(btn => btn.classList.remove('active'));
        const selected = [...document.querySelectorAll('.gallery-controls button')]
            .find(b => (emotion==='all' ? b.textContent==='ì „ì²´' : b.textContent.includes(emotion)));
        selected?.classList.add('active');
        allItems.forEach(item => {
            item.style.display = (emotion==='all' || item.classList.contains('emotion-'+emotion)) ? 'block' : 'none';
        });
    }
</script>
</body>
</html>

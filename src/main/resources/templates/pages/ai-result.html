<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°ì • ë¶„ì„ ê²°ê³¼ - Feelio</title>
    <!-- ê¸°ë³¸ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <!-- í° ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" th:href="@{/css/phone-style.css}">
    <!-- í”„ë ˆì„ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" th:href="@{/css/phone-frame.css}">
    <!-- ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" th:href="@{/css/scrollbar-style.css}">
    <!-- ì•± ì½˜í…ì¸  ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" th:href="@{/css/app-content.css}">

    <!-- Chart.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<style>
    /* ê°ì • ë¶„ì„ ê²°ê³¼ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
    .ai-message {
        background-color: #f7f9fc;
        border-radius: 16px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        font-size: 1.1rem;
        line-height: 1.6;
        color: #3a3a3a;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .chart-container {
        margin-bottom: 2rem;
        padding: 1rem;
        background-color: white;
        border-radius: 16px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }

    .chart-wrapper {
        height: 300px;
        margin: 1rem 0;
    }

    .playlist-section {
        margin-bottom: 2rem;
        text-align: center;
    }

    .playlist-section p {
        margin-bottom: 1rem;
        color: #666;
    }

    .next-actions {
        display: flex;
        justify-content: center;
        margin-top: 2rem;
        margin-bottom: 2rem;
    }

    /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
    }

    .modal-content {
        background-color: white;
        margin: 10% auto;
        padding: 2rem;
        border-radius: 16px;
        width: 80%;
        max-width: 500px;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
    }

    .close-modal {
        position: absolute;
        top: 1rem;
        right: 1.5rem;
        font-size: 1.8rem;
        font-weight: bold;
        cursor: pointer;
    }

    .playlist {
        list-style: none;
        padding: 0;
        margin-top: 1.5rem;
    }

    .song-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.8rem 0;
        border-bottom: 1px solid #eee;
    }

    .song-info {
        display: flex;
        align-items: center;
    }

    .song-number {
        font-size: 1.2rem;
        font-weight: bold;
        color: #999;
        width: 2rem;
    }

    .song-item h3 {
        margin: 0;
        font-size: 1rem;
    }

    .song-item p {
        margin: 0;
        font-size: 0.9rem;
        color: #666;
    }

    .play-btn {
        background: none;
        border: none;
        cursor: pointer;
    }

    .play-btn img {
        width: 24px;
        height: 24px;
    }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    .btn {
        display: inline-block;
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        text-decoration: none;
        text-align: center;
        transition: all 0.3s ease;
    }

    .primary-btn {
        background-color: #5f7adb;
        color: white;
        border: none;
    }

    .primary-btn:hover {
        background-color: #4a62b3;
    }

    .secondary-btn {
        background-color: white;
        color: #5f7adb;
        border: 1px solid #5f7adb;
    }

    .secondary-btn:hover {
        background-color: #f0f3ff;
    }

    .app-content {
        flex: 1;
        overflow-y: auto;
        padding: 10px 0;
        position: relative;
        height: calc(100% - 60px);
    }

    /* ì›í˜• íƒœê·¸ ìŠ¤íƒ€ì¼ ë²”ë¡€ */
    .emotion-legend-horizontal {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 12px;
        margin: 1.5rem 0;
    }

    .legend-item-horizontal {
        display: flex;
        align-items: center;
        padding: 8px 12px;
        background-color: #f8f9ff;
        border-radius: 30px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .legend-item-horizontal:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.12);
    }

    .color-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 6px;
    }

    .legend-emoji {
        width: 24px;
        height: 24px;
        margin: 0 6px;
    }

    .legend-label {
        font-size: 14px;
        font-weight: 600;
        color: #333;
    }

    /* ì¹´ë“œí˜• ìŠ¤íƒ€ì¼ ë²”ë¡€ (ëŒ€ì•ˆ) */
    .emotion-legend-cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin: 1.5rem 0;
    }

    .legend-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 12px 8px;
        background-color: #f8f9ff;
        border-radius: 14px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        transition: transform 0.2s;
    }

    .legend-card:hover {
        transform: scale(1.05);
    }

    .card-color {
        width: 100%;
        height: 5px;
        border-radius: 2px;
        margin-bottom: 8px;
    }

    .card-emoji {
        width: 32px;
        height: 32px;
        margin: 6px 0;
    }

    .card-label {
        font-size: 13px;
        font-weight: 600;
        color: #333;
        text-align: center;
    }

    .card-value {
        font-size: 12px;
        color: #666;
        margin-top: 4px;
    }
</style>
<body>
<!-- ai-result.html -->
<!-- í—¤ë” í”„ë˜ê·¸ë¨¼íŠ¸ í¬í•¨ -->
<!--<div th:replace="~{fragments/header :: header}"></div>-->

<div class="phone-container">
    <div class="app-container">
        <div class="app-header">
            <a href="javascript:history.back()" class="back-button">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1>ê°ì • ë¶„ì„ ê²°ê³¼</h1>
        </div>

        <div class="app-content">
            <!-- AI ìœ„ë¡œ/ê²©ë ¤ ë©”ì‹œì§€ -->
            <div class="ai-message">
                <p th:text="${analysis != null && analysis.positiveFeedback != null ?
               analysis.positiveFeedback : 'ì˜¤ëŠ˜ í•˜ë£¨ë„ ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤. ë‚´ì¼ì€ ë” ì¢‹ì€ ë‚ ì´ ë  ê±°ì˜ˆìš”.'}">
                    ì¼ê¸°ë¥¼ ë¶„ì„í•œ ê²°ê³¼ì…ë‹ˆë‹¤.
                </p>
            </div>

            <!-- ê°ì • ë¶„ì„ ì°¨íŠ¸ -->
            <div class="chart-container">
                <h2>ê°ì • ë¶„ì„</h2>
                <div class="chart-wrapper">
                    <canvas id="emotionChart"></canvas>
                </div>
                <!-- ìˆ˜ì •ëœ ì´ëª¨í‹°ì½˜ í¬í•¨ ë²”ë¡€ -->
                <div id="emotion-legend" class="emotion-legend"></div>
            </div>


            <!-- ì¶”ì²œ í™œë™ ì„¹ì…˜ -->
            <div class="recommendations-section">
                <h2>ì¶”ì²œ í™œë™</h2>
                <div class="activity-recommendations">
                    <div th:if="${analysis != null && analysis.activityRecommendations != null && !analysis.activityRecommendations.isEmpty()}"
                         th:each="activity : ${analysis.activityRecommendations}" class="activity-card">
                        <div class="activity-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="activity-details">
                            <h3 th:text="${activity.activity}">í™œë™</h3>
                            <p th:text="${activity.reason}">ì‚¬ìœ </p>
                        </div>
                    </div>

                    <!-- í™œë™ ì¶”ì²œì´ ì—†ì„ ê²½ìš° ê¸°ë³¸ ì¶”ì²œ í‘œì‹œ -->
                    <div th:if="${analysis == null || analysis.activityRecommendations == null || analysis.activityRecommendations.isEmpty()}">
                        <div class="activity-card">
                            <div class="activity-icon">
                                <i class="fas fa-walking"></i>
                            </div>
                            <div class="activity-details">
                                <h3>ê°€ë²¼ìš´ ì‚°ì±…</h3>
                                <p>ì‹ ì„ í•œ ê³µê¸°ë¥¼ ë§ˆì‹œë©° ìƒê°ì„ ì •ë¦¬í•˜ëŠ”ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                        <div class="activity-card">
                            <div class="activity-icon">
                                <i class="fas fa-music"></i>
                            </div>
                            <div class="activity-details">
                                <h3>ì¢‹ì•„í•˜ëŠ” ìŒì•… ë“£ê¸°</h3>
                                <p>ë§ˆìŒì„ í¸ì•ˆí•˜ê²Œ í•˜ê³  ê°ì •ì„ í‘œí˜„í•˜ëŠ”ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ì¶”ì²œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ -->
            <div class="playlist-section">
                <h2>ì¶”ì²œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</h2>
                <p>
                    ì˜¤ëŠ˜ì˜ ê°ì •ì— ë§ëŠ” ìŒì•…ì„ ì¶”ì²œí•´ ë“œë ¤ìš”!
                </p>
                <button id="openPlaylistBtn" class="btn primary-btn">í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ë³´ê¸°</button>
            </div>

            <!-- ë‹¤ìŒ ë‹¨ê³„ ë²„íŠ¼ -->
            <div class="next-actions">
                <a th:href="${diary != null ? '/diary/' + diary.id : '/home'}" class="btn secondary-btn">ì‘ì„±ëœ ì¼ê¸° ë³´ê¸°</a>
                <a href="/home" class="btn outlined-btn">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
            </div>
        </div>
    </div>
</div>

<!-- í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ -->
<div id="playlistModal" class="modal">
    <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>ì˜¤ëŠ˜ì˜ ì¶”ì²œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</h2>
        <ul class="playlist">
            <!-- Thymeleafë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶”ì²œ ìŒì•… ëª©ë¡ í‘œì‹œ -->
            <li th:each="music, stat : ${recommendedMusic}" class="song-item">
                <div class="song-info">
                    <span class="song-number" th:text="${stat.count}">1</span>
                    <div>
                        <h3 th:text="${music.title}">ë…¸ë˜ ì œëª©</h3>
                        <p th:text="${music.artist}">ì•„í‹°ìŠ¤íŠ¸</p>
                    </div>
                </div>
                <a th:if="${music.spotifyLink != null}" th:href="${music.spotifyLink}" target="_blank" class="play-btn">
                    <i class="fas fa-play"></i>
                </a>
                <button th:unless="${music.spotifyLink != null}" class="play-btn" disabled>
                    <i class="fas fa-play"></i>
                </button>
            </li>

            <!-- ì¶”ì²œ ìŒì•…ì´ ì—†ëŠ” ê²½ìš° í‘œì‹œí•  ë‚´ìš© -->
            <li th:if="${recommendedMusic == null || recommendedMusic.isEmpty()}" class="empty-playlist">
                <p>í˜„ì¬ ì¶”ì²œ ê°€ëŠ¥í•œ ìŒì•…ì´ ì—†ìŠµë‹ˆë‹¤.</p>
            </li>
        </ul>
    </div>
</div>

<!-- í‘¸í„° í”„ë˜ê·¸ë¨¼íŠ¸ í¬í•¨ -->
<!--<div th:replace="~{fragments/footer :: footer}"></div>-->

<!-- í”„ë ˆì„ ì»¨í…Œì´ë„ˆ - í•­ìƒ ìµœìƒìœ„ì— ìœ„ì¹˜ -->
<div class="frame-container">
    <div class="phone-frame"></div>
</div>

<!-- ê·¸ë¦¼ì íš¨ê³¼ -->
<div class="phone-shadow"></div>


html<!-- ë””ë²„ê·¸ ì˜ì—­ (ê°œë°œ ì¤‘ì—ë§Œ ì‚¬ìš©) -->
<div style="background: #f7f7f7; padding: 20px; margin-top: 30px; border-radius: 10px; font-family: monospace; white-space: pre-wrap; display: none;"
     onclick="this.style.display = this.style.display === 'none' ? 'block' : 'none';">
    <h3>ë””ë²„ê·¸ ì •ë³´</h3>
    <button onclick="this.parentNode.style.display = 'none';">ë‹«ê¸°</button>
    <hr>
    <h4>ì¼ê¸° ì •ë³´:</h4>
    <pre th:text="${diary != null ? 'ID: ' + diary.id + '\nì œëª©: ' + diary.title + '\në‚ ì§œ: ' + diary.diaryDate : 'ì—†ìŒ'}"></pre>

    <h4>ë¶„ì„ ê²°ê³¼:</h4>
    <pre th:text="${analysis != null ? 'ì¡´ì¬í•¨' : 'ì—†ìŒ'}"></pre>

    <h4>ê¸ì • í”¼ë“œë°±:</h4>
    <pre th:text="${analysis != null ? analysis.positiveFeedback : 'ì—†ìŒ'}"></pre>

    <h4>ì£¼ìš” ê°ì •:</h4>
    <pre th:text="${analysis != null && analysis.primaryEmotion != null ? analysis.primaryEmotion.emotionName : 'ì—†ìŒ'}"></pre>

    <h4>ê°ì • ëª©ë¡:</h4>
    <pre th:if="${analysis != null && analysis.emotions != null}" th:each="emotion : ${analysis.emotions}"
         th:text="${emotion.emotionName + ': ' + emotion.percentage + '% (Primary: ' + emotion.primary + ')'}"></pre>
    <pre th:unless="${analysis != null && analysis.emotions != null}">ì—†ìŒ</pre>

    <h4>ì¶”ì²œ í™œë™:</h4>
    <pre th:if="${analysis != null && analysis.activityRecommendations != null}"
         th:each="rec : ${analysis.activityRecommendations}"
         th:text="${rec.activity + ': ' + rec.reason}"></pre>
    <pre th:unless="${analysis != null && analysis.activityRecommendations != null}">ì—†ìŒ</pre>

    <h4>ì¶”ì²œ ìŒì•…:</h4>
    <pre th:if="${recommendedMusic != null}" th:each="music : ${recommendedMusic}"
         th:text="${music.title + ' by ' + music.artist}"></pre>
    <pre th:unless="${recommendedMusic != null}">ì—†ìŒ</pre>
</div>

<!-- ë””ë²„ê·¸ ë²„íŠ¼ (ê°œë°œ ì¤‘ì—ë§Œ ì‚¬ìš©) -->
<button id="debug-toggle"
        style="position: fixed; bottom: 10px; right: 10px; z-index: 9999; background: #333; color: white; border: none; padding: 10px; border-radius: 5px; cursor: pointer;">
    ë””ë²„ê·¸ ì •ë³´ ë³´ê¸°
</button>
<!-- ë””ë²„ê·¸ í† ê¸€ ìŠ¤í¬ë¦½íŠ¸ -->
<script>
    document.getElementById('debug-toggle').addEventListener('click', function () {
        const debugDiv = document.querySelector('div[style*="background: #f7f7f7"]');
        debugDiv.style.display = debugDiv.style.display === 'none' ? 'block' : 'none';
    });
</script>
<script th:inline="javascript">
    const debug = true; // ê°œë°œ ì¤‘ì—ëŠ” trueë¡œ ì„¤ì •

    if (debug) {
        console.log('==== ëª¨ë¸ ë°ì´í„° ë””ë²„ê¹… ====');
        const diary = /*[[${diary}]]*/ null;
        const analysis = /*[[${analysis}]]*/ null;
        const recommendedMusic = /*[[${recommendedMusic}]]*/ null;

        console.log('ì¼ê¸°:', diary);
        console.log('ë¶„ì„ ê²°ê³¼:', analysis);
        console.log('ì¶”ì²œ ìŒì•…:', recommendedMusic);

        if (analysis) {
            console.log('ê¸ì •ì  í”¼ë“œë°±:', analysis.positiveFeedback);
            console.log('ì£¼ìš” ê°ì •:', analysis.primaryEmotion);
            console.log('ê°ì • ëª©ë¡:', analysis.emotions);
            console.log('ì¶”ì²œ í™œë™:', analysis.activityRecommendations);
        }
    }
</script>


<script th:inline="javascript">
    // Thymeleafì—ì„œ ì „ë‹¬í•œ ê°ì • ë°ì´í„°
    const emotions = /*[[${analysis != null and analysis.emotions != null}]]*/ false
        ? /*[[${analysis.emotions}]]*/ []
        : [];


    // ì°¨íŠ¸ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function () {
        // ê°ì • ë°ì´í„° í¬ë§·
        const formattedEmotions = [];

        // ë°ì´í„° ìœ íš¨ì„± ê²€ì¦
        if (emotions && emotions.length > 0) {
            emotions.forEach(emotion => {
                formattedEmotions.push({
                    name: emotion.emotionName || 'ì•Œ ìˆ˜ ì—†ìŒ',
                    value: emotion.percentage || 0,
                    color: emotion.emotionColor || getDefaultColor(emotion.emotionName),
                    iconPath: emotion.emotionEmoji || getDefaultEmoji(emotion.emotionName)
                });
            });
        } else {
            // ê¸°ë³¸ ë”ë¯¸ ë°ì´í„°
            formattedEmotions.push({
                name: 'ë¶ˆì•ˆ',
                value: 35,
                color: '#FF6384',
                iconPath: '/resources/static/images/emotions/KakaoTalk_20250319_110426749_03.png'
            });
            formattedEmotions.push({
                name: 'ìŠ¤íŠ¸ë ˆìŠ¤',
                value: 25,
                color: '#FFCE56',
                iconPath: '/resources/static/images/emotions/KakaoTalk_20250319_110426749_05.png'
            });
            formattedEmotions.push({
                name: 'í¬ë§',
                value: 20,
                color: '#36A2EB',
                iconPath: '/resources/static/images/emotions/KakaoTalk_20250319_110426749_07.png'
            });
            formattedEmotions.push({
                name: 'ë§Œì¡±',
                value: 15,
                color: '#4BC0C0',
                iconPath: '/resources/static/images/emotions/KakaoTalk_20250319_110426749_09.png'
            });
            formattedEmotions.push({
                name: 'ì§€ë£¨í•¨',
                value: 5,
                color: '#9966FF',
                iconPath: '/resources/static/images/emotions/KakaoTalk_20250319_110426749_15.png'
            });
        }

        // ì°¨íŠ¸ í‘œì‹œ
        const ctx = document.getElementById('emotionChart').getContext('2d');
        const emotionChart = new Chart(ctx, {
            type: 'pie', // íŒŒì´ ì°¨íŠ¸ ì‚¬ìš©
            data: {
                labels: formattedEmotions.map(e => e.name),
                datasets: [{
                    data: formattedEmotions.map(e => e.value),
                    backgroundColor: formattedEmotions.map(e => e.color),
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false // ê¸°ë³¸ ë²”ë¡€ ìˆ¨ê¸°ê¸° (ì»¤ìŠ¤í…€ ì´ëª¨í‹°ì½˜ ë²”ë¡€ ì‚¬ìš©)
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return ` ${context.label}: ${context.raw}%`;
                            }
                        }
                    }
                }
            }
        });

        // ì›í˜• íƒœê·¸ ìŠ¤íƒ€ì¼ ë²”ë¡€ ìƒì„±
        const legendContainer = document.getElementById('emotion-legend');
        legendContainer.classList.add('emotion-legend-horizontal');

        // ëª¨ë“  ê°ì • í•­ëª©ì— ëŒ€í•´ ì›í˜• íƒœê·¸ ìŠ¤íƒ€ì¼ ë²”ë¡€ ìƒì„±
        formattedEmotions.forEach(emotion => {
            const legendItem = document.createElement('div');
            legendItem.className = 'legend-item-horizontal';

            // ìƒ‰ìƒ ì 
            const colorDot = document.createElement('div');
            colorDot.className = 'color-dot';
            colorDot.style.backgroundColor = emotion.color;

            // ì´ëª¨í‹°ì½˜
            const emoji = document.createElement('img');
            emoji.className = 'legend-emoji';
            emoji.src = emotion.iconPath;
            emoji.alt = emotion.name;
            emoji.onerror = function () {
                // ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ í…ìŠ¤íŠ¸ ì´ëª¨ì§€ë¡œ ëŒ€ì²´
                this.style.display = 'none';
                const textEmoji = document.createElement('span');
                textEmoji.textContent = getEmotionEmoji(emotion.name);
                textEmoji.className = 'text-emoji';
                this.parentNode.insertBefore(textEmoji, this);
            };

            // í…ìŠ¤íŠ¸ ë¼ë²¨
            const label = document.createElement('span');
            label.className = 'legend-label';
            label.textContent = emotion.name + ' ' + emotion.value + '%';

            legendItem.appendChild(colorDot);
            legendItem.appendChild(emoji);
            legendItem.appendChild(label);

            legendContainer.appendChild(legendItem);
        });

        // ëª¨ë‹¬ ê¸°ëŠ¥ ìœ ì§€
        const modal = document.getElementById('playlistModal');
        const btn = document.getElementById('openPlaylistBtn');
        const closeBtn = document.querySelector('.close-modal');

        btn.onclick = function () {
            modal.style.display = "block";
        }

        closeBtn.onclick = function () {
            modal.style.display = "none";
        }

        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    });

    // ê°ì •ì— ë”°ë¥¸ ê¸°ë³¸ ìƒ‰ìƒ ë°˜í™˜
    function getDefaultColor(emotionName) {
        const colorMap = {
            'í–‰ë³µ': '#FF9500',
            'ë§Œì¡±': '#4CD964',
            'ì„¤ë ˜': '#FF2D55',
            'í‰ì˜¨': '#5AC8FA',
            'ë¶ˆì•ˆ': '#FFCC00',
            'ìŠ¬í””': '#007AFF',
            'ë¶„ë…¸': '#FF3B30',
        };

        return colorMap[emotionName] || '#CCCCCC'; // ê¸°ë³¸ íšŒìƒ‰
    }

    // ê°ì •ì— ë”°ë¥¸ ê¸°ë³¸ ì´ëª¨í‹°ì½˜ URL ë°˜í™˜
    function getDefaultEmoji(emotionName) {
        return `/images/emotions/${emotionName}.png`;
    }

    // ê°ì •ì— ë”°ë¥¸ ì´ëª¨í‹°ì½˜ ë¬¸ì ë°˜í™˜
    function getEmotionEmoji(emotionName) {
        const emojiMap = {
            'í–‰ë³µ': 'ğŸ˜„',
            'ë§Œì¡±': 'ğŸ˜Š',
            'ì„¤ë ˜': 'ğŸ˜',
            'í‰ì˜¨': 'ğŸ˜Œ',
            'ë¶ˆì•ˆ': 'ğŸ˜°',
            'ìŠ¬í””': 'ğŸ˜¢',
            'ë¶„ë…¸': 'ğŸ˜ ',

        };

        return emojiMap[emotionName] || 'â“';
    }
</script>
</body>
</html>
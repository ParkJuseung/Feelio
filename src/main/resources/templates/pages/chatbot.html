<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- ê¸°ë³¸ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="/static/css/base.css">
    <!-- í° ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="/static/css/phone-style.css">
    <!-- í”„ë ˆì„ ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="/static/css/phone-frame.css">
    <!-- ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ -->
    <link rel="stylesheet" href="/static/css/scrollbar-style.css">
    <!-- ì•± ì½˜í…ì¸  ìŠ¤íƒ€ì¼ -->
<!--    <link rel="stylesheet" href="/static/css/app-content.css">-->
    <title>ê°ë‹¤ ì±„íŒ…</title>

</head>
<style>
    .header-layout-center {
        text-align: center;
    }
</style>
<body>
<div class="phone-container">
    <!-- ë…¸ì¹˜ ë° ìƒíƒœë°” -->
    <div class="notch"></div>
    <div class="status-bar">
        <div class="time">9:41</div>
        <div class="status-icons">
            <div class="signal">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>

    <!-- ì•± ì»¨í…ì¸  -->
    <div class="app-container">
        <div class="app-header header-layout-center">
            <div class="app-title">ê°ë‹¤ ì±„íŒ…</div>
            <div class="app-date">2023ë…„ 10ì›” 15ì¼</div>
        </div>

        <!-- ì˜¤ëŠ˜ì˜ ì§ˆë¬¸ -->
        <!--    <div class="today-question">-->
        <!--      <div class="today-question-label">ì˜¤ëŠ˜ì˜ ì§ˆë¬¸</div>-->
        <!--      <div class="today-question-text">ì˜¤ëŠ˜ ê°€ì¥ í–‰ë³µí–ˆë˜ ìˆœê°„ì€ ì–¸ì œì˜€ë‚˜ìš”?</div>-->
        <!--    </div>-->

        <!-- ì±„íŒ… ì˜ì—­ -->
        <div class="chat-container">
            <div class="date-badge">2023ë…„ 10ì›” 15ì¼</div>

            <div class="bot-message">
                ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ì–´ë– ì…¨ë‚˜ìš”? ì˜¤ëŠ˜ì˜ ë§ˆìŒì„ ë“¤ë ¤ì£¼ì„¸ìš”.
                <div class="message-time">09:30</div>
            </div>

            <div class="user-message">
                ì˜¤ëŠ˜ì€ ì¹œêµ¬ë‘ ì¹´í˜ì—ì„œ ìˆ˜ë‹¤ ë–¨ë‹¤ê°€ ë„ˆë¬´ ì›ƒì–´ì„œ ì¢‹ì•˜ì–´!
                <div class="message-time">09:32</div>
            </div>

            <div class="bot-message">
                ì •ë§ ì¦ê±°ì› ê² ë„¤ìš”! ì¹œêµ¬ì™€ì˜ ì‹œê°„ì€ í•­ìƒ íŠ¹ë³„í•˜ì£ . ê·¸ëŸ° í–‰ë³µí•œ ìˆœê°„ë“¤ì´ ë” ë§ì•„ì§€ê¸¸ ë°”ë„ê²Œìš”! ğŸ’•
                <div class="message-time">09:33</div>
            </div>

            <div class="system-message">
                ê°ì • ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.
            </div>
        </div>

        <!-- ì…ë ¥ ì˜ì—­ -->
        <div class="input-area">
            <input type="text" class="message-input" placeholder="ì˜¤ëŠ˜ì˜ ë§ˆìŒì„ ì ì–´ë³´ì„¸ìš”...">
            <button class="send-button"></button>
        </div>
    </div>

</div>

<!-- í”„ë ˆì„ ì»¨í…Œì´ë„ˆ - í•­ìƒ ìµœìƒìœ„ì— ìœ„ì¹˜ -->
<div class="frame-container">
    <div class="phone-frame"></div>
</div>


<!-- ê·¸ë¦¼ì íš¨ê³¼ -->
<div class="phone-shadow"></div>

<script>
    // scrollbar-functions.js - ìŠ¤í¬ë¡¤ ê´€ë ¨ ê¸°ëŠ¥

    document.addEventListener('DOMContentLoaded', function() {
        const chatContainer = document.querySelector('.chat-container');
        const scrollIndicator = document.createElement('div');
        scrollIndicator.className = 'scroll-indicator';
        chatContainer.appendChild(scrollIndicator);

        // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        chatContainer.addEventListener('scroll', function() {
            // ìŠ¤í¬ë¡¤ì´ ë§¨ ì•„ë˜ê°€ ì•„ë‹ ë•Œë§Œ ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° í‘œì‹œ
            const isScrollable = chatContainer.scrollHeight > chatContainer.clientHeight;
            const isScrolledToBottom = chatContainer.scrollHeight - chatContainer.scrollTop <= chatContainer.clientHeight + 10;

            if (isScrollable && !isScrolledToBottom) {
                scrollIndicator.classList.add('visible');

                // ìŠ¤í¬ë¡¤ ë°©í–¥ì— ë”°ë¼ ì¸ë””ì¼€ì´í„° íšŒì „
                const isScrollingDown = chatContainer.scrollTop > (chatContainer.lastScrollTop || 0);
                if (isScrollingDown) {
                    chatContainer.classList.add('scrolling-down');
                } else {
                    chatContainer.classList.remove('scrolling-down');
                }
                chatContainer.lastScrollTop = chatContainer.scrollTop;
            } else {
                scrollIndicator.classList.remove('visible');
            }
        });

        // ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° í´ë¦­ ì´ë²¤íŠ¸
        scrollIndicator.addEventListener('click', function() {
            // ë§¨ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤
            chatContainer.scrollTo({
                top: chatContainer.scrollHeight,
                behavior: 'smooth'
            });
        });

        // ìƒˆ ë©”ì‹œì§€ê°€ ì¶”ê°€ë  ë•Œ ìŠ¤í¬ë¡¤ ìë™ ì¡°ì •
        const messageObserver = new MutationObserver(function(mutations) {
            const wasAtBottom = chatContainer.scrollHeight - chatContainer.scrollTop <= chatContainer.clientHeight + 10;

            if (wasAtBottom) {
                setTimeout(() => {
                    chatContainer.scrollTo({
                        top: chatContainer.scrollHeight,
                        behavior: 'smooth'
                    });
                }, 100);
            }
        });

        messageObserver.observe(chatContainer, { childList: true, subtree: true });
    });
</script>
</body>
</html>
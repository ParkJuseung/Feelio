<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feelio</title>

    <!-- Í∏∞Î≥∏ Ïä§ÌÉÄÏùº -->
    <link rel="stylesheet" href="/static/css/base.css">
    <!-- Ìè∞ Ïä§ÌÉÄÏùº -->
    <link rel="stylesheet" href="/static/css/phone-style.css">
    <!-- ÌîÑÎ†àÏûÑ Ïä§ÌÉÄÏùº -->
    <link rel="stylesheet" href="/static/css/phone-frame.css">
    <!-- Ïä§ÌÅ¨Î°§Î∞î Ïä§ÌÉÄÏùº -->
    <link rel="stylesheet" href="/static/css/scrollbar-style.css">

    <link rel="stylesheet" href="/static/css/app-content.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        .app-container {
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            position: relative;
        }
        .scrollable-content {
            flex: 1;
            overflow-y: auto;
            padding-bottom: 150px; /* Î≤ÑÌäº/Î©îÎâ¥Î∞îÍ∞Ä Ïïà Í∞ÄÎ¶¨ÎèÑÎ°ù Ïó¨Ïú† Ï§å */
        }
        .chart-container {
            padding: 20px;
            margin: 20px 18px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-neumorphic);
            border: 1px solid rgba(224, 230, 255, 0.7);
        }
        .chart-container h3 {
            text-align: center;
            font-family: 'GmarketSans', sans-serif;
            font-size: 16px;
            color: var(--primary-color);
            margin-bottom: 16px;
        }
        .toggle-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 0 18px 16px;
        }
        .toggle-buttons button {
            padding: 8px 16px;
            font-size: 14px;
            font-family: 'GmarketSans', sans-serif;
            border-radius: 20px;
            border: 1px solid var(--primary-color);
            background-color: white;
            color: var(--primary-color);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .toggle-buttons button.active {
            background-color: var(--primary-color);
            color: white;
        }
        .mood-stability {
            display: flex;
            justify-content: space-between;
            gap: 12px;
            margin: 20px 18px;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-neumorphic);
            border: 1px solid rgba(224, 230, 255, 0.7);
        }
        .mood-stability canvas {
            flex: 1;
        }
        .mood-stability .left, .mood-stability .right {
            flex: 1;
            position: relative;
        }
        .mood-stability h4 {
            font-family: 'GmarketSans', sans-serif;
            font-size: 14px;
            margin-bottom: 10px;
            color: var(--primary-color);
            text-align: center;
        }
        .mood-score-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 18px;
            font-weight: bold;
            color: var(--primary-color);
            font-family: 'GmarketSans', sans-serif;
            pointer-events: none;
        }
        .mood-trigger-section {
            margin: 20px 18px;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-neumorphic);
            border: 1px solid rgba(224, 230, 255, 0.7);
        }

        .mood-trigger-section h4 {
            font-size: 15px;
            font-family: 'GmarketSans', sans-serif;
            margin: 20px 0 10px;
            color: var(--primary-color);
        }

        .trigger-list {
            display: flex;
            gap: 14px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-right: -6px; /* Ïä§ÌÅ¨Î°§ ÎÅùÏù¥ ÎÑàÎ¨¥ ÏûòÎ¶¨ÏßÄ ÏïäÎèÑÎ°ù */
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }

        .trigger-item {
            flex: 0 0 auto;
            width: 90px;
            text-align: center;
            font-size: 13px;
            font-family: 'S-CoreDream', sans-serif;
            color: var(--text-color);
            scroll-snap-align: start;
        }

        .trigger-image-container {
            position: relative;
            width: 90px;
            height: 90px;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }

        .trigger-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .trigger-count {
            position: absolute;
            top: 6px;
            right: 6px;
            background-color: rgba(0, 0, 0, 0.6);
            color: white;
            font-size: 12px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 12px;
        }

        .menu-bar {
            position: absolute;
            bottom: 70px;
            left: 0;
            right: 0;
            height: 65px;
            background-color: white;
            display: flex;
            justify-content: space-around;
            align-items: center;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.06);
            border-top: 1px solid #f0f0f0;
        }
        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #aaa;
            font-size: 11px;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 0;
            cursor: pointer;
        }
        .menu-item.active {
            color: #007BFF;
        }
        .menu-icon {
            font-size: 22px;
            margin-bottom: 4px;
        }
        .new-diary-button {
            position: absolute;
            bottom: 140px;
            right: 30px;
            width: 50px;
            height: 50px;
            border-radius: 25px;
            background: linear-gradient(135deg, #007BFF, #00a1ff);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.4);
            z-index: 10;
            border: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .new-diary-button:active {
            transform: scale(0.92);
        }
        canvas { max-width: 100%; }
    </style>
</head>
<body>
<!-- ÌîÑÎ†àÏûÑ Ïª®ÌÖåÏù¥ÎÑà - Ìï≠ÏÉÅ ÏµúÏÉÅÏúÑÏóê ÏúÑÏπò -->
<div class="frame-container">
    <div class="phone-frame"></div>
</div>

<div class="phone-container">
    <div class="notch"></div>
    <div class="status-bar">
        <div class="time">9:41</div>
        <div class="status-icons">
            <div class="signal"><div></div><div></div><div></div><div></div></div>
        </div>
    </div>

    <div class="app-container">
        <div class="app-header header-layout-center">
            <div class="app-title">Í∞êÏ†ï ÌÜµÍ≥Ñ</div>
            <div class="app-date">2025ÎÖÑ 4Ïõî</div><!--ÎÇ†Ïßú Í≥ÑÏÇ∞ ÌïÑÏöî-->
        </div>

        <!-- Ïä§ÌÅ¨Î°§ Í∞ÄÎä•Ìïú ÏòÅÏó≠ -->
        <div class="scrollable-content">
            <div class="toggle-buttons">
                <button id="weeklyBtn" class="active">Ï£ºÍ∞Ñ</button>
                <button id="monthlyBtn">ÏõîÍ∞Ñ</button>
            </div>

            <div class="chart-container">
                <h3 id="chartTitle">üìÖ Ï£ºÍ∞Ñ Í∞êÏ†ï Î≥ÄÌôî</h3>
                <canvas id="emotionChart"></canvas>
            </div>

            <!-- Î¨¥Îìú ÏïàÏ†ïÏÑ± ÏòÅÏó≠ -->
            <div class="mood-stability">
                <div class="left">
                    <h4>Î¨¥Îìú ÏïàÏ†ïÏÑ± Ï†êÏàò</h4>
                    <canvas id="moodPie"></canvas>
                    <div class="mood-score-label" id="moodScoreLabel">80</div><!--Ï†êÏàò Í≥ÑÏÇ∞ ÌïÑÏöî-->
                </div>
                <div class="right">
                    <h4>Í∞êÏ†ï ÌååÌòï</h4>
                    <canvas id="moodPulse"></canvas>
                </div>
            </div>

            <div class="mood-trigger-section">
                <!--Î∞òÎ≥µÎ¨∏ ÏãúÏûë-->
                <h4>üòä Ïù¥Îü¥ Îïå Í∏∞Î∂ÑÏù¥ Ï¢ãÏïÑÏ°åÏñ¥Ïöî</h4>
                <div class="trigger-list">
                    <div class="trigger-item">
                        <div class="trigger-image-container">
                            <img src="img/picnic.jpg" alt="ÎÇòÎì§Ïù¥">
                            <div class="trigger-count">+5</div><!--Ïà´Ïûê ÎàÑÏ†Å -->
                        </div>
                        <div class="trigger-label">ÎÇòÎì§Ïù¥</div>
                    </div>
                    <div class="trigger-item">
                        <div class="trigger-image-container">
                            <img src="img/vacation.jpg" alt="Ìú¥Í∞Ä">
                            <div class="trigger-count">+3</div><!--Ïà´Ïûê ÎàÑÏ†Å -->
                        </div>
                        <div class="trigger-label">Ìú¥Í∞Ä</div>
                    </div>
                    <div class="trigger-item">
                        <div class="trigger-image-container">
                            <img src="img/friends.jpg" alt="ÏπúÍµ¨ ÎßåÎÇ®">
                            <div class="trigger-count">+4</div><!--Ïà´Ïûê ÎàÑÏ†Å -->
                        </div>
                        <div class="trigger-label">ÏπúÍµ¨ ÎßåÎÇ®</div>
                    </div>
                </div>
                <!--Î∞òÎ≥µÎ¨∏Ï¢ÖÎ£å-->

                <!--Î∞òÎ≥µÎ¨∏ ÏãúÏûë-->
                <h4>üòû Ïù¥Îü¥ Îïå Í∏∞Î∂ÑÏù¥ ÎÇòÎπ†Ï°åÏñ¥Ïöî</h4>
                <div class="trigger-list">
                    <div class="trigger-item">
                        <div class="trigger-image-container">
                            <img src="img/work.jpg" alt="ÏïºÍ∑º">
                            <div class="trigger-count">+4</div><!--Ïà´Ïûê ÎàÑÏ†Å -->
                        </div>
                        <div class="trigger-label">ÏïºÍ∑º</div>
                    </div>
                    <div class="trigger-item">
                        <div class="trigger-image-container">
                            <img src="img/rain.jpg" alt="Ïö∞Ï§ëÏ∂©Ìïú ÎÇ†Ïî®">
                            <div class="trigger-count">+2</div><!--Ïà´Ïûê ÎàÑÏ†Å -->
                        </div>
                        <div class="trigger-label">ÎπÑ Ïò§Îäî ÎÇ†</div>
                    </div>
                    <div class="trigger-item">
                        <div class="trigger-image-container">
                            <img src="img/traffic.jpg" alt="Ï∂úÍ∑ºÍ∏∏ Ï†ïÏ≤¥">
                            <div class="trigger-count">+3</div><!--Ïà´Ïûê ÎàÑÏ†Å -->
                        </div>
                        <div class="trigger-label">Ï∂úÍ∑ºÍ∏∏ Ï†ïÏ≤¥</div>
                    </div>
                </div>
                <!--Î∞òÎ≥µÎ¨∏Ï¢ÖÎ£å-->

            </div>

            <button class="new-diary-button">+</button>

            <div class="menu-bar">
                <div class="menu-item">
                    <div class="menu-icon">üè†</div>
                    <div>Ìôà</div>
                </div>
                <div class="menu-item active">
                    <div class="menu-icon">üìä</div>
                    <div>ÌÜµÍ≥Ñ</div>
                </div>
                <div class="menu-item">
                    <div class="menu-icon">üìÜ</div>
                    <div>Îã¨Î†•</div>
                </div>
                <div class="menu-item">
                    <div class="menu-icon">‚öôÔ∏è</div>
                    <div>ÏÑ§Ï†ï</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const weeklyData = {
            labels: ['Ïõî', 'Ìôî', 'Ïàò', 'Î™©', 'Í∏à', 'ÌÜ†', 'Ïùº'],
            /*['ÌñâÎ≥µ', 'ÎßåÏ°±', 'ÏÑ§Î†ò', 'ÌèâÏò®', 'Î∂àÏïà', 'Ïä¨Ìîî', 'Î∂ÑÎÖ∏']*/
            datasets: [{
                label: 'Í∞êÏ†ï Ï†êÏàò',
                data: [60, 70, 50, 80, 65, 75, 90],
                backgroundColor: ['#f9c6c9','#fdd7aa','#fef4b0','#b1d7b4','#a3c9f9','#cbb2ef','#f8a5d6'],
                borderRadius: 12
            }]
        };

        const monthlyData = {
            labels: ['1Ï£ºÏ∞®', '2Ï£ºÏ∞®', '3Ï£ºÏ∞®', '4Ï£ºÏ∞®'],
            datasets: [{
                label: 'Í∞êÏ†ï Ï†êÏàò ÌèâÍ∑†',
                data: [65, 70, 75, 60],
                borderColor: '#7b8cde',
                backgroundColor: 'rgba(123, 140, 222, 0.2)',
                tension: 0.3,
                fill: true,
                pointBackgroundColor: '#7b8cde',
                pointRadius: 5
            }]
        };

        const config = {
            type: 'bar',
            data: weeklyData,
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    tooltip: { callbacks: { label: ctx => `Í∞êÏ†ï Ï†êÏàò: ${ctx.raw}` } }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        ticks: { stepSize: 20, color: '#7c8ba1' },
                        grid: { color: 'rgba(200,200,200,0.1)' }
                    },
                    x: { ticks: { color: '#7c8ba1' } }
                }
            }
        };

        const ctx = document.getElementById('emotionChart').getContext('2d');
        let chart = new Chart(ctx, config);

        document.getElementById('weeklyBtn').addEventListener('click', () => {
            chart.config.type = 'bar';
            chart.data = weeklyData;
            chart.update();
            document.getElementById('chartTitle').textContent = 'üìÖ Ï£ºÍ∞Ñ Í∞êÏ†ï Î≥ÄÌôî';
            toggleActive('weeklyBtn', 'monthlyBtn');
        });

        document.getElementById('monthlyBtn').addEventListener('click', () => {
            chart.config.type = 'line';
            chart.data = monthlyData;
            chart.update();
            document.getElementById('chartTitle').textContent = 'üóìÔ∏è ÏõîÍ∞Ñ Í∞êÏ†ï Î≥ÄÌôî';
            toggleActive('monthlyBtn', 'weeklyBtn');
        });

        function toggleActive(activeId, inactiveId) {
            document.getElementById(activeId).classList.add('active');
            document.getElementById(inactiveId).classList.remove('active');
        }

        // Î¨¥Îìú ÏïàÏ†ïÏÑ± ÏõêÌòï Í∑∏ÎûòÌîÑ
        const moodScore = 80;
        new Chart(document.getElementById('moodPie'), {
            type: 'doughnut',
            data: {
                labels: ['ÏïàÏ†ïÏÑ±', 'Î≥ÄÎèôÏÑ±'],
                datasets: [{
                    data: [moodScore, 100 - moodScore],
                    backgroundColor: ['#7b8cde', '#e0e6ff'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                cutout: '70%',
                plugins: {
                    legend: { display: false }
                }
            }
        });
        document.getElementById('moodScoreLabel').textContent = `${moodScore}`;

        // Î¨¥Îìú ÌååÌòï Í∑∏ÎûòÌîÑ
        new Chart(document.getElementById('moodPulse'), {
            type: 'line',
            data: {
                labels: ['1', '2', '3', '4', '5', '6', '7'],
                datasets: [{
                    label: 'Í∞êÏ†ï ÌååÌòï',
                    data: [60, 80, 40, 70, 50, 90, 60],
                    borderColor: '#ff6b81',
                    backgroundColor: 'transparent',
                    tension: 0.4,
                    pointRadius: 0,
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: { legend: { display: false } },
                scales: {
                    y: { display: false },
                    x: { display: false }
                }
            }
        });
    </script>
</body>
</html>
